<head>
  <title>DiscoVR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
</body>

<template name="layout">
  {{> yield "header"}}
  {{> yield "main"}}
  {{> yield "footer"}}
</template>

<template name="navbar">
<div class="container-fluid">
  <nav class="navbar navbar-default">
    <div class="container-fluid">

      <!-- Collapsed toggle button -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-links" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <!-- Nav links for toggling -->
      <div class="collapse navbar-collapse" id="navbar-collapse-links">
        <ul class="nav navbar-nav">
          <li><p class="navbar-text">Headset:</p></li>
          <li><a href="#" class="js-headset" data-toggle="tooltip" data-placement="bottom" title="">Rift</a></li>
          <li><a href="#" class="js-headset" data-toggle="tooltip" data-placement="bottom" title="">Vive</a></li>
          <li><p class="navbar-text">Controller:</p></li>
          <li><a href="#" class="js-gamepad" data-toggle="tooltip" data-placement="bottom" title="">Gamepad</a></li>
          <li><a href="#" class="js-motion" data-toggle="tooltip" data-placement="bottom" title="">Motion</a></li>
          <li><a href="#" class="js-kbm" data-toggle="tooltip" data-placement="bottom" title="">Mouse / KB</a></li>
          <li><p class="navbar-text">Genre:</p></li>
          <li><a href="#" class="js-singleplayer" data-toggle="tooltip" data-placement="bottom" title="">Singleplayer</a></li>
          <li><a href="#" class="js-multiplayer" data-toggle="tooltip" data-placement="bottom" title="">Multiplayer</a></li>
        </ul>
      </div><!-- /Nav links -->
    </div><!-- /Container -->
  </nav>


  <!-- Search button -->
  <div class="pull-right">
    <button type="button" class="btn btn-default js-search-button" data-toggle="modal" data-target="#js-search-modal" data-tooltip="true" data-placement="bottom" title="search titles">
      <i class="glyphicon glyphicon-search"></i>
    </button>
  </div>

  <!-- Search modal -->
  <div class="modal fade bs-example-modal-sm" id="js-search-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <form role="search" id="search_form">
          <input type="text" class="form-control" placeholder="Search" id="search_input" autocomplete="off">
        </form>
      </div>
    </div>
  </div>

</div>
</template>

<template name="vr_list">
<div class="container-fluid">
  <div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Title</th>
        <th>Platforms</th>
        <th>Features</th>
        <th>Available on </th>
      </tr>
    </thead>
    <tbody>
    {{#each supported_title}}
    {{> vr_title}}
    {{/each}}
    </tbody>
  </table>
  </div>
</div>

</template>

<template name="vr_title">
      <tr>
        <td>{{title}}</td>
        <td>
          {{#if support_rift}}
            {{#if support_vive}}
            <a href="#" class="js-headset">Rift</a>, <a href="#" class="js-headset">Vive</a>
            {{else}}
            <a href="#" class="js-headset">Rift</a>
            {{/if}}
          {{else}}
            {{#if support_vive}}
            <a href="#" class="js-headset">Vive</a>
            {{/if}}
          {{/if}}
        </td>
        <td>
          {{#if support_singleplayer}}
          <a href="#" class="js-singleplayer">
            <i class="fa fa-user" aria-hidden="true" title="singleplayer"></i>
          </a>
          {{/if}}
          {{#if support_multiplayer}}
          <a href="#" class="js-multiplayer">
            <i class="fa fa-users" aria-hidden="true" title="multiplayer"></i>
          </a>
          {{/if}}
          {{#if support_gamepad}}
          <a href="#" class="js-gamepad">
            <i class="fa fa-gamepad" aria-hidden="true" title="supports gamepad"></i>
          </a>
          {{/if}}
          {{#if support_motion}}
          <a href="#" class="js-motion">
            <i class="fa fa-hand-paper-o" aria-hidden="true" title="supports motion controllers"></i>
          </a>
          {{/if}}
          {{#if support_kbm}}
          <a href="#" class="js-kbm">
            <i class="fa fa-keyboard-o" aria-hidden="true" title="supports keyboard and mouse"></i>
          </a>
          {{/if}}
        </td>
        <td>
          {{{getOculusLink support_rift support_vive rift_id}}}
          {{{getSteamLink support_rift support_vive steam_id}}}
        </td>
      </tr>

</template>

<template name="site_info">
<div class="container-fluid">
  Site by Janne
</div>
<script type="text/javascript">
  $(function () {

    // initialize tooltips
    $('[data-toggle="tooltip"]').tooltip();

    // initialize data-tooltip as tooltip (to allow data-toggle to open modal)
    $('[data-tooltip="true"]').tooltip();

    // hide tooltip and focus search_input on search modal shown
    $('#js-search-modal').on('shown.bs.modal', function () {
      $('.js-search-button').tooltip('hide');
      $('#search_input').focus();
    });

  });
</script>
</template>